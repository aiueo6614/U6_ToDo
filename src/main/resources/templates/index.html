<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>TodoApp</title>
<link th:href="@{/css/style.css}" rel="stylesheet" type="text/css">
<script th:src="@{/js/script.js}"></script>
</head>
<body>
	<header>
		<h1>TodoList</h1>
	</header>
	<main>
		<h3>マイタスク</h3>
		<div class="even">
			<form  method="post" th:action="@{?}" th:each="todo : ${todos}">
				<input type="checkbox" name="done_flg" value="1"/>
				<div class="left">
					<input type="hidden" name="id" th:value="${todo.id}"/>
					<input type="text" name="title" th:value="${todo.title}" maxlength="40" placeholder="40文字以内"/>
					<input type="date" name="time_limit" th:value="${todo.time_limit}"/>
					<span th:text="${todo.limit}"></span>
				</div>
				<div class="right">
					<button type="submit" th:formaction="@{/repeat}">繰返し</button>
					<button type="submit" th:formaction="@{/update}">更新</button>
				</div>
			</form>
		</div>
		<hr>
		
		<h3>完了済み</h3>
		<div class="even">
			<form method="post" th:action="@{/update}" th:each="todo : ${doneTodos}">
				<input type="checkbox" name="done_flg" value="1" checked/>
				<div class="left">
					<input type="hidden" name="id" th:value="${todo.id}"/>
					<input type="text" name="title" th:value="${todo.title}" maxlength="40" placeholder="40文字以内"/>
					<input type="date" name="time_limit" th:value="${todo.time_limit}"/>
				</div>
				<div class="right">
					<input type="submit" value="更新"/>
				</div>
			</form>
		</div>
		<hr>
		
		<h3>新しいタスクを追加</h3>
		<form method="post" th:action="@{/add}">
			<div class="left">
				<input type="text" name="title" maxlength="40" placeholder="40文字以内"/>
				<input type="date" name="time_limit"/>
			</div>
			<div class="right">
				<input type="submit" value="追加"/>
			</div>
		</form>
		<hr>
		
		<div class="delete">
			<div class="left">
				<form method="post" th:action="@{/deleteall}" onSubmit="return deleteall()">
					<input type="submit" value="全てを削除"/>
				</form>
			</div>
			
			<div class="right">		
				<form method="post" th:action="@{/delete}" onSubmit="return deletecomp()">
					<input type="submit" value="完了済みを削除"/>
				</form>
			</div>
		</div>

	</main>
</body>
</html>