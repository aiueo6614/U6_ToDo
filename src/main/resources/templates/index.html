<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>TodoApp</title>
<link th:href="@{/css/style.css}" rel="stylesheet" type="text/css">
<script th:src="@{/js/script.js}"></script>
</head>
<body>
	<div class="container">
		<header class="header">
			<h1>TodoList</h1>
		</header>
		<main>
			<div class="main">
				<h3>マイタスク</h3>
				<form method="post" th:action="@{?}" th:each="todo : ${todos}">
					<input type="checkbox" name="done_flg" value="1"/>
					<input type="hidden" name="id" th:value="${todo.id}"/>
					<input type="text" name="title" th:value="${todo.title}" maxlength="40" placeholder="40文字以内"/>
					<input type="date" name="time_limit" th:value="${todo.time_limit}"/>
					<span th:text="${todo.limit}"/>
					<button type="submit" th:formaction="@{/update}">更新</button>
					<button type="submit" th:formaction="@{/repeat}">繰返し</button>
				</form>
			
				<h3>完了済み</h3>
				<form method="post" th:action="@{/update}" th:each="todo : ${doneTodos}">
					<input type="checkbox" name="done_flg" value="1" checked/>
					<input type="hidden" name="id" th:value="${todo.id}"/>
					<input type="text" name="title" th:value="${todo.title}" maxlength="40" placeholder="40文字以内"/>
					<input type="date" name="time_limit" th:value="${todo.time_limit}"/>
					<input type="submit" value="更新"/>
				</form>
			
				<h3>新しいタスクを追加</h3>
				<form method="post" th:action="@{/add}">
					<input type="text" name="title" maxlength="40" placeholder="40文字以内"/>
					<input type="date" name="time_limit"/>
					<input type="submit" value="追加"/>
				</form>
			
				<form method="post" th:action="@{/delete}" onSubmit="return deletecomp()">
					<input type="submit" value="完了済みを削除"/>
				</form>
				
				<form method="post" th:action="@{/deleteall}" onSubmit="return deleteall()">
					<input type="submit" value="全てを削除"/>
				</form>
			</div>
		</main>
	</div>
</body>
</html>